

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Installation &mdash; rfactor  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Get started" href="get-started.html" />
    <link rel="prev" title="Rainfall erosivity" href="rfactor.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> rfactor
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="rfactor.html">R-factor</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="get-started.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/modules.html">Module Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/analysis_flanders.html">Flanders</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">rfactor</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/cn-ws/rfactor/blob/master/docs/installation.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>Python is used to implemented the functionalities in this package, whereas
Matlab or Octave is used to run the core code. Do note the use of Octave is
free of charge, but slower than the Matlab solution.</p>
<div class="section" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<p>Make sure you have Python, via
<a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a>, is installed.
The Python dependencies are handled in the <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file, so
anybody can recreate the required environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">-</span><span class="n">f</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">rfactor</span>
</pre></div>
</div>
<p>We strongly recommend to make use of the seperate <code class="docutils literal notranslate"><span class="pre">rfactor</span></code> environment to
install the dependencies (see two lines above), so it does not interfere with
other Python installation on your machine. If you which to install
the dependencies in your base environment, check out the dependencies in the
<code class="docutils literal notranslate"><span class="pre">environment.yml</span></code>-file.</p>
<p>With your <code class="docutils literal notranslate"><span class="pre">rfactor</span></code> environment activated (<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">rfactor</span></code>),
install the rfactor package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>Or for development purposes of this package, run following code to
install developer dependencies (using pip):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span><span class="p">[</span><span class="n">develop</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="core">
<h2>Core<a class="headerlink" href="#core" title="Permalink to this headline">¶</a></h2>
<p>The core code makes use Matlab files. You can choose to either use Matlab (1)
or Octave (2) to run the core code. Do note that the use of Matlab requires a
license (free trail/student edition available) whereas the use of Octave is
free. Yet, a big downside of the use of Octave is that it is much slower in
code execution.</p>
<div class="section" id="matlab">
<h3>Matlab<a class="headerlink" href="#matlab" title="Permalink to this headline">¶</a></h3>
<p>Make sure to pick-up the
latest version of
<a class="reference external" href="https://nl.mathworks.com/products/matlab.html?requestedDomain=">Matlab</a></p>
</div>
<div class="section" id="alternative-octave">
<h3>Alternative: Octave<a class="headerlink" href="#alternative-octave" title="Permalink to this headline">¶</a></h3>
<p>Pick up the latest version of Octave from the
<a class="reference external" href="https://www.gnu.org/software/octave/index">website</a>. After installing
Octave, install <code class="docutils literal notranslate"><span class="pre">oct2py</span></code> via conda</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">oct2py</span>
</pre></div>
</div>
<p>And make sure to define the path to your the <code class="docutils literal notranslate"><span class="pre">OCTAVE_EXECUTABLE</span></code> in a
<code class="docutils literal notranslate"><span class="pre">.env</span></code>-file. The latter you can do by creating a <code class="docutils literal notranslate"><span class="pre">.env</span></code>-file in your
current working directory, and defining the executable location,
e.g. (local installation):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OCTAVE_EXECUTABLE</span><span class="o">=</span><span class="n">C</span><span class="p">:</span><span class="o">//</span><span class="n">Users</span><span class="o">//</span><span class="n">YOURUSERNAME</span><span class="o">//</span><span class="n">AppData</span><span class="o">//</span><span class="n">Local</span><span class="o">//</span><span class="n">Programs</span><span class="o">//</span><span class="n">GNU</span> <span class="n">Octave</span><span class="o">//</span><span class="n">Octave</span><span class="o">-</span><span class="mf">6.2</span><span class="o">.</span><span class="mi">0</span><span class="o">//</span><span class="n">mingw64</span><span class="o">//</span><span class="nb">bin</span><span class="o">//</span><span class="n">octave</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="mf">6.2</span><span class="o">.</span><span class="mf">0.</span><span class="n">exe</span>
</pre></div>
</div>
<p>for a windows-based system. Make sure to check where Octave is installed on
your computer! The <code class="docutils literal notranslate"><span class="pre">`python-dotenv</span></code>-package (installed with the installation
of the rfactor package) will use the <code class="docutils literal notranslate"><span class="pre">.env</span></code>-file to check your installation.</p>
<p>An alternative is to add the path reference under the name OCTAVE_EXECUTABLE
to your path (windows: add via
<a class="reference external" href="https://www.computerhope.com/issues/ch000549.htm">environmental variables</a>, linux: via
<a class="reference external" href="https://linuxize.com/post/how-to-add-directory-to-path-in-linux/">adjusting the .bashrc-file</a>)</p>
</div>
</div>
<div class="section" id="development">
<h2>Development<a class="headerlink" href="#development" title="Permalink to this headline">¶</a></h2>
<p>When developing this package, following tools are used:</p>
<div class="section" id="syntax-formatting-with-black">
<h3>syntax formatting with black<a class="headerlink" href="#syntax-formatting-with-black" title="Permalink to this headline">¶</a></h3>
<p>To ensure a more common code formatting and limit the git diff, make
sure to use the black pre-commit hook:</p>
<ul class="simple">
<li><p>install
<a class="reference external" href="https://black.readthedocs.io/en/stable/installation_and_usage.html">black</a>
(should be ok as part of the develop installation, see earlier)</p></li>
<li><p>install <a class="reference external" href="https://pre-commit.com/#install">pre-commit</a> (should be
ok as part of the develop installation, see earlier)</p></li>
</ul>
<p>Install the pre-commit hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">install</span>
</pre></div>
</div>
<p>on the main level of the package (location where the file
<code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code> is located)</p>
</div>
<div class="section" id="unit-testing-with-pytest">
<h3>unit testing with pytest<a class="headerlink" href="#unit-testing-with-pytest" title="Permalink to this headline">¶</a></h3>
<p>Run the test suite using the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> package (from within the main
package folder, in the <code class="docutils literal notranslate"><span class="pre">rfactor</span></code> environment!):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="n">tests</span><span class="o">/</span>
</pre></div>
</div>
</div>
<div class="section" id="documentation-with-sphinx">
<h3>documentation with sphinx<a class="headerlink" href="#documentation-with-sphinx" title="Permalink to this headline">¶</a></h3>
<p>Build the documentation locally with sphinx (from within the main
package folder, in the <code class="docutils literal notranslate"><span class="pre">rfactor</span></code> environment!):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build_sphinx</span>
</pre></div>
</div>
<p>which will create the docs in the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder. This directory is
left out of version control.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="get-started.html" class="btn btn-neutral float-right" title="Get started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="rfactor.html" class="btn btn-neutral float-left" title="Rainfall erosivity" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Sacha Gobeyn.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>